<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.1~dev.20251003.1243 (20251003.1243)
 -->
<!-- Title: MoshiEndToEnd Pages: 1 -->
<svg width="940pt" height="98pt"
 viewBox="0.00 0.00 940.00 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>MoshiEndToEnd</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-94 936.26,-94 936.26,4 -4,4"/>
<!-- mic -->
<g id="node1" class="node">
<title>mic</title>
<polygon fill="none" stroke="black" points="95.72,-63 0,-63 0,-27 95.72,-27 95.72,-63"/>
<text xml:space="preserve" text-anchor="middle" x="47.86" y="-47.8" font-family="Times,serif" font-size="14.00">Microphone</text>
<text xml:space="preserve" text-anchor="middle" x="47.86" y="-33.8" font-family="Times,serif" font-size="14.00">(24kHz PCM)</text>
</g>
<!-- frame -->
<g id="node2" class="node">
<title>frame</title>
<polygon fill="none" stroke="black" points="233.65,-63 131.72,-63 131.72,-27 233.65,-27 233.65,-63"/>
<text xml:space="preserve" text-anchor="middle" x="182.68" y="-47.8" font-family="Times,serif" font-size="14.00">Frame 80ms</text>
<text xml:space="preserve" text-anchor="middle" x="182.68" y="-33.8" font-family="Times,serif" font-size="14.00">(1920 samples)</text>
</g>
<!-- mic&#45;&gt;frame -->
<g id="edge1" class="edge">
<title>mic&#45;&gt;frame</title>
<path fill="none" stroke="black" d="M96.06,-45C103.87,-45 112.06,-45 120.16,-45"/>
<polygon fill="black" stroke="black" points="119.97,-48.5 129.97,-45 119.97,-41.5 119.97,-48.5"/>
</g>
<!-- mimi_enc -->
<g id="node3" class="node">
<title>mimi_enc</title>
<polygon fill="none" stroke="black" points="389.46,-63 269.65,-63 269.65,-27 389.46,-27 389.46,-63"/>
<text xml:space="preserve" text-anchor="middle" x="329.55" y="-47.8" font-family="Times,serif" font-size="14.00">Mimi encode_step</text>
<text xml:space="preserve" text-anchor="middle" x="329.55" y="-33.8" font-family="Times,serif" font-size="14.00">(audio tokens)</text>
</g>
<!-- frame&#45;&gt;mimi_enc -->
<g id="edge2" class="edge">
<title>frame&#45;&gt;mimi_enc</title>
<path fill="none" stroke="black" d="M233.95,-45C241.67,-45 249.76,-45 257.82,-45"/>
<polygon fill="black" stroke="black" points="257.65,-48.5 267.65,-45 257.65,-41.5 257.65,-48.5"/>
</g>
<!-- lm -->
<g id="node4" class="node">
<title>lm</title>
<polygon fill="none" stroke="black" points="501.75,-63 425.46,-63 425.46,-27 501.75,-27 501.75,-63"/>
<text xml:space="preserve" text-anchor="middle" x="463.6" y="-47.8" font-family="Times,serif" font-size="14.00">Moshi LM</text>
<text xml:space="preserve" text-anchor="middle" x="463.6" y="-33.8" font-family="Times,serif" font-size="14.00">(gen.step)</text>
</g>
<!-- mimi_enc&#45;&gt;lm -->
<g id="edge3" class="edge">
<title>mimi_enc&#45;&gt;lm</title>
<path fill="none" stroke="black" d="M389.63,-45C397.75,-45 406.01,-45 413.91,-45"/>
<polygon fill="black" stroke="black" points="413.67,-48.5 423.67,-45 413.67,-41.5 413.67,-48.5"/>
</g>
<!-- text_out -->
<g id="node5" class="node">
<title>text_out</title>
<polygon fill="none" stroke="black" points="647.3,-90 554.61,-90 554.61,-54 647.3,-54 647.3,-90"/>
<text xml:space="preserve" text-anchor="middle" x="600.96" y="-74.8" font-family="Times,serif" font-size="14.00">Text tokens</text>
<text xml:space="preserve" text-anchor="middle" x="600.96" y="-60.8" font-family="Times,serif" font-size="14.00">&#45;&gt; detokenize</text>
</g>
<!-- lm&#45;&gt;text_out -->
<g id="edge4" class="edge">
<title>lm&#45;&gt;text_out</title>
<path fill="none" stroke="black" d="M501.95,-52.45C514.79,-55.01 529.47,-57.94 543.49,-60.74"/>
<polygon fill="black" stroke="black" points="542.57,-64.12 553.06,-62.65 543.94,-57.26 542.57,-64.12"/>
</g>
<!-- audio_tokens -->
<g id="node6" class="node">
<title>audio_tokens</title>
<polygon fill="none" stroke="black" points="664.17,-36 537.75,-36 537.75,0 664.17,0 664.17,-36"/>
<text xml:space="preserve" text-anchor="middle" x="600.96" y="-20.8" font-family="Times,serif" font-size="14.00">Audio tokens</text>
<text xml:space="preserve" text-anchor="middle" x="600.96" y="-6.8" font-family="Times,serif" font-size="14.00">(last_audio_tokens)</text>
</g>
<!-- lm&#45;&gt;audio_tokens -->
<g id="edge5" class="edge">
<title>lm&#45;&gt;audio_tokens</title>
<path fill="none" stroke="black" d="M501.95,-37.55C509.56,-36.03 517.83,-34.38 526.22,-32.71"/>
<polygon fill="black" stroke="black" points="526.67,-36.19 535.79,-30.8 525.3,-29.32 526.67,-36.19"/>
</g>
<!-- mimi_dec -->
<g id="node7" class="node">
<title>mimi_dec</title>
<polygon fill="none" stroke="black" points="819.98,-36 700.17,-36 700.17,0 819.98,0 819.98,-36"/>
<text xml:space="preserve" text-anchor="middle" x="760.07" y="-20.8" font-family="Times,serif" font-size="14.00">Mimi decode_step</text>
<text xml:space="preserve" text-anchor="middle" x="760.07" y="-6.8" font-family="Times,serif" font-size="14.00">(PCM)</text>
</g>
<!-- audio_tokens&#45;&gt;mimi_dec -->
<g id="edge6" class="edge">
<title>audio_tokens&#45;&gt;mimi_dec</title>
<path fill="none" stroke="black" d="M664.5,-18C672.32,-18 680.36,-18 688.3,-18"/>
<polygon fill="black" stroke="black" points="688.29,-21.5 698.29,-18 688.29,-14.5 688.29,-21.5"/>
</g>
<!-- spk -->
<g id="node8" class="node">
<title>spk</title>
<polygon fill="none" stroke="black" points="932.26,-36 855.98,-36 855.98,0 932.26,0 932.26,-36"/>
<text xml:space="preserve" text-anchor="middle" x="894.12" y="-20.8" font-family="Times,serif" font-size="14.00">Speaker</text>
<text xml:space="preserve" text-anchor="middle" x="894.12" y="-6.8" font-family="Times,serif" font-size="14.00">(PCM out)</text>
</g>
<!-- mimi_dec&#45;&gt;spk -->
<g id="edge7" class="edge">
<title>mimi_dec&#45;&gt;spk</title>
<path fill="none" stroke="black" d="M820.14,-18C828.26,-18 836.53,-18 844.43,-18"/>
<polygon fill="black" stroke="black" points="844.19,-21.5 854.19,-18 844.19,-14.5 844.19,-21.5"/>
</g>
</g>
</svg>
